[{"D:\\Laravel_Front\\src\\index.tsx":"1","D:\\Laravel_Front\\src\\reportWebVitals.ts":"2","D:\\Laravel_Front\\src\\App.tsx":"3","D:\\Laravel_Front\\src\\store\\index.ts":"4","D:\\Laravel_Front\\src\\components\\Home\\index.tsx":"5","D:\\Laravel_Front\\src\\components\\auth\\Login\\index.tsx":"6","D:\\Laravel_Front\\src\\components\\containers\\DefaultLayout\\index.tsx":"7","D:\\Laravel_Front\\src\\store\\reducers\\index.ts":"8","D:\\Laravel_Front\\src\\components\\auth\\Login\\validation.ts":"9","D:\\Laravel_Front\\src\\hooks\\useActions.ts":"10","D:\\Laravel_Front\\src\\components\\containers\\DefaultLayout\\DefaultLayout.tsx":"11","D:\\Laravel_Front\\src\\components\\common\\InputGroup.tsx":"12","D:\\Laravel_Front\\src\\components\\auth\\Login\\reducer.ts":"13","D:\\Laravel_Front\\src\\components\\containers\\DefaultLayout\\Header.tsx":"14","D:\\Laravel_Front\\src\\components\\auth\\Login\\types.ts":"15","D:\\Laravel_Front\\src\\store\\action-creators\\index.ts":"16","D:\\Laravel_Front\\src\\hooks\\useTypedSelector.ts":"17","D:\\Laravel_Front\\src\\components\\auth\\Login\\actions.ts":"18","D:\\Laravel_Front\\src\\components\\auth\\Register\\index.tsx":"19","D:\\Laravel_Front\\src\\components\\common\\eclipse\\index.tsx":"20","D:\\Laravel_Front\\src\\helpers\\setAuthToken.tsx":"21","D:\\Laravel_Front\\src\\components\\auth\\Register\\reducer.ts":"22","D:\\Laravel_Front\\src\\components\\auth\\Register\\types.ts":"23","D:\\Laravel_Front\\src\\components\\auth\\Register\\validation.ts":"24","D:\\Laravel_Front\\src\\http_common.js":"25","D:\\Laravel_Front\\src\\components\\auth\\Register\\actions.ts":"26"},{"size":830,"mtime":1639670353081,"results":"27","hashOfConfig":"28"},{"size":425,"mtime":1638702843000,"results":"29","hashOfConfig":"28"},{"size":711,"mtime":1639638863252,"results":"30","hashOfConfig":"28"},{"size":295,"mtime":1639670253865,"results":"31","hashOfConfig":"28"},{"size":808,"mtime":1639398879772,"results":"32","hashOfConfig":"28"},{"size":2981,"mtime":1640163478361,"results":"33","hashOfConfig":"28"},{"size":75,"mtime":1638702843000,"results":"34","hashOfConfig":"28"},{"size":340,"mtime":1639670240775,"results":"35","hashOfConfig":"28"},{"size":462,"mtime":1639638499349,"results":"36","hashOfConfig":"28"},{"size":270,"mtime":1638702843000,"results":"37","hashOfConfig":"28"},{"size":284,"mtime":1638702843000,"results":"38","hashOfConfig":"28"},{"size":903,"mtime":1638702843000,"results":"39","hashOfConfig":"28"},{"size":759,"mtime":1640162206985,"results":"40","hashOfConfig":"28"},{"size":2062,"mtime":1639638574145,"results":"41","hashOfConfig":"28"},{"size":1292,"mtime":1640163114798,"results":"42","hashOfConfig":"28"},{"size":216,"mtime":1639638701642,"results":"43","hashOfConfig":"28"},{"size":190,"mtime":1638702843000,"results":"44","hashOfConfig":"28"},{"size":2619,"mtime":1640163203193,"results":"45","hashOfConfig":"28"},{"size":5054,"mtime":1640163645593,"results":"46","hashOfConfig":"28"},{"size":485,"mtime":1639508315000,"results":"47","hashOfConfig":"28"},{"size":281,"mtime":1639508315000,"results":"48","hashOfConfig":"28"},{"size":471,"mtime":1639508315000,"results":"49","hashOfConfig":"28"},{"size":713,"mtime":1640162474951,"results":"50","hashOfConfig":"28"},{"size":1409,"mtime":1640163008140,"results":"51","hashOfConfig":"28"},{"size":180,"mtime":1640162810636,"results":"52","hashOfConfig":"28"},{"size":1240,"mtime":1640163576904,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"1asi7bn",{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"56"},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"56"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"56"},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"98","messages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"100","messages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"102","messages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"104","messages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"109","messages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Laravel_Front\\src\\index.tsx",[],["111","112"],"D:\\Laravel_Front\\src\\reportWebVitals.ts",[],"D:\\Laravel_Front\\src\\App.tsx",["113","114"],"import React from 'react';\nimport {  BrowserRouter,  Routes, Route, Outlet, Link } from \"react-router-dom\";\nimport './App.css';\nimport LoginPage from './components/auth/Login';\nimport RegisterPage from './components/auth/Register';\nimport HomePage from './components/Home';\nimport DefaultLayout from './components/containers/DefaultLayout';\n\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<DefaultLayout />}>\n          <Route index element={<HomePage />} />\n          <Route path=\"login\" element={< LoginPage/>} />\n          <Route path=\"register\" element={<RegisterPage/>}/>\n\n        </Route>\n\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\n\nexport default App;\n","D:\\Laravel_Front\\src\\store\\index.ts",[],"D:\\Laravel_Front\\src\\components\\Home\\index.tsx",[],"D:\\Laravel_Front\\src\\components\\auth\\Login\\index.tsx",["115","116"],"import { useState } from \"react\";\nimport { Form, FormikProvider, FormikHelpers, useFormik } from \"formik\";\nimport {ILoginModel, ILoginErrors} from './types';\nimport {LoginSchema} from './validation';\nimport {InputGroup} from '../../common/InputGroup';\nimport { useNavigate } from \"react-router\";\nimport { useActions } from \"../../../hooks/useActions\";\nimport EclipseWidget from '../../common/eclipse';\n\nconst LoginPage = () => {\n  const { LoginUser } = useActions();\n  const navigator = useNavigate();\n\n  const [invalid, setInvalid] = useState(\"\");  \n\n  const initialValues: ILoginModel = {\n    email: \"\",\n    password: \"\",\n    invalid: \"\"\n  };\n\n  \n  const onHandleSubmit = async (values: ILoginModel, { setFieldError }: FormikHelpers<ILoginModel>) => {\n    try {\n      setLoading(true); // починаєм загрузку\n      await LoginUser(values); // кідаєм дані в екшн\n      await navigator(\"/\"); // переходим на головну\n      await setLoading(false); // закінчуєм загрузку\n    } \n    catch (errors) {\n      setLoading(false); // закінчуєм хибну загрузку\n      const serverErrors = errors as ILoginErrors; //витягуєм помилки згідно інтерфейсу ILoginError\n      const { password, invalid } = serverErrors; //створюєм змінні для перевірки\n\n      if (password !== undefined) { //перевіряємо чи є помилки для пароля\n        setFieldError(\"password\", password[0]);\n      }\n      console.log(invalid.length);\n      \n      if (invalid !== undefined){ //перевіряємо чи є стороні помилки\n        setFieldError(\"invalid\", invalid[0]);\n      }\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: initialValues,\n    validationSchema: LoginSchema,\n    onSubmit: onHandleSubmit,\n  });\n\n  const { errors, touched, handleChange, handleSubmit } = formik;\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-6 offset-md-3\">\n        <h1>Login page</h1>\n        \n        {invalid && <div className=\"alert alert-danger\">{invalid}</div>}\n\n        <FormikProvider value={formik}>\n          <Form onSubmit={handleSubmit}>\n            <InputGroup\n              field=\"email\"\n              label=\"Пошта\"\n              error={errors.email}\n              touched={touched.email}\n              onChange={handleChange}\n            />\n\n            <InputGroup\n              field=\"password\"\n              label=\"Пароль\"\n              type=\"password\"\n              touched={touched.password}\n              error={errors.password}\n              onChange={handleChange}\n            />\n\n            <button type=\"submit\" className=\"btn btn-success\">\n              Вхід\n            </button>\n          </Form>\n        </FormikProvider>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\nfunction setLoading(arg0: boolean) {\n  throw new Error(\"Function not implemented.\");\n}\n\n","D:\\Laravel_Front\\src\\components\\containers\\DefaultLayout\\index.tsx",[],"D:\\Laravel_Front\\src\\store\\reducers\\index.ts",[],"D:\\Laravel_Front\\src\\components\\auth\\Login\\validation.ts",[],"D:\\Laravel_Front\\src\\hooks\\useActions.ts",[],"D:\\Laravel_Front\\src\\components\\containers\\DefaultLayout\\DefaultLayout.tsx",[],"D:\\Laravel_Front\\src\\components\\common\\InputGroup.tsx",[],"D:\\Laravel_Front\\src\\components\\auth\\Login\\reducer.ts",[],"D:\\Laravel_Front\\src\\components\\containers\\DefaultLayout\\Header.tsx",[],"D:\\Laravel_Front\\src\\components\\auth\\Login\\types.ts",[],"D:\\Laravel_Front\\src\\store\\action-creators\\index.ts",[],"D:\\Laravel_Front\\src\\hooks\\useTypedSelector.ts",[],"D:\\Laravel_Front\\src\\components\\auth\\Login\\actions.ts",["117"],"import axios, { AxiosError } from 'axios';\r\nimport { Dispatch } from 'react';\r\nimport http from '../../../http_common';\r\nimport jwt from 'jsonwebtoken';\r\nimport { AuthAction, AuthActionTypes, ILoginModel, ILoginServerError, IUser } from './types';\r\nimport setAuthToken from '../../../helpers/setAuthToken';\r\nimport { ILoginErrors } from './types';\r\n\r\nexport interface ILoginResponse {\r\n    access_token: string\r\n    //user: { email: string}\r\n}\r\n\r\nexport const LoginUser = (data: ILoginModel) => async (dispatch: Dispatch<AuthAction>) => {\r\n  try {\r\n    const response = await http.post<ILoginResponse>(\"api/auth/login\", data); // посилаєм форму на сервер і отримуєм результат\r\n    const {access_token} = response.data; //присвоюєм отриманий токен по інтерфейсу ILoginResponse\r\n    //const {user} = response.data;\r\n    //console.log(user);\r\n\r\n\r\n    setAuthUserByToken(access_token, dispatch); //передаєм токен і діспатч в окрему функцію \r\n    \r\n    return Promise.resolve(); // повертаєм проміс\r\n    \r\n  } catch (err: any) {\r\n      if (axios.isAxiosError(err)) { // перевіряєм чи аксіос ловить помилки сервера\r\n          const serverError = err as AxiosError<ILoginErrors>; //присвоюєм їх\r\n\r\n          if (serverError && serverError.response) {\r\n              const { errors } = serverError.response.data;\r\n              return Promise.reject(errors); //повертаєм проміс з помилками\r\n          }\r\n      }\r\n      \r\n      return Promise.reject(); // якщо вони не в аксіосі повертаєм пустий хибний проміс\r\n      \r\n  }\r\n}\r\n\r\n\r\nexport const setAuthUserByToken = (token: string, dispatch: Dispatch<any>) => {\r\nlocalStorage.access_token = token; // кідаєм його в храніліще\r\nsetAuthToken(token);\r\nconst user = jwt.decode(token) as IUser; // декодуєм його для витягнення даних\r\ndispatch({ // кідаєм в діспатч тип події і юзера\r\n  type: AuthActionTypes.LOGIN, \r\n  payload: {\r\n      email: user.email,\r\n  }\r\n});  \r\n}\r\n\r\nexport const LogoutUser = () => {\r\nreturn async (dispatch: Dispatch<AuthAction>) => {\r\n  try {\r\n    setAuthToken(''); // знищуєм токен\r\n      dispatch({ type: AuthActionTypes.LOGOUT }); //кідаєм в діспатч подію\r\n      localStorage.removeItem('access_token') // видаляєм токен з локал стореджа\r\n  } catch (error) {\r\n      \r\n  }\r\n}\r\n}","D:\\Laravel_Front\\src\\components\\auth\\Register\\index.tsx",["118"],"D:\\Laravel_Front\\src\\components\\common\\eclipse\\index.tsx",[],"D:\\Laravel_Front\\src\\helpers\\setAuthToken.tsx",[],"D:\\Laravel_Front\\src\\components\\auth\\Register\\reducer.ts",[],"D:\\Laravel_Front\\src\\components\\auth\\Register\\types.ts",[],"D:\\Laravel_Front\\src\\components\\auth\\Register\\validation.ts",[],"D:\\Laravel_Front\\src\\http_common.js",[],["119","120"],"D:\\Laravel_Front\\src\\components\\auth\\Register\\actions.ts",[],{"ruleId":"121","replacedBy":"122"},{"ruleId":"123","replacedBy":"124"},{"ruleId":"125","severity":1,"message":"126","line":2,"column":42,"nodeType":"127","messageId":"128","endLine":2,"endColumn":48},{"ruleId":"125","severity":1,"message":"129","line":2,"column":50,"nodeType":"127","messageId":"128","endLine":2,"endColumn":54},{"ruleId":"125","severity":1,"message":"130","line":8,"column":8,"nodeType":"127","messageId":"128","endLine":8,"endColumn":21},{"ruleId":"125","severity":1,"message":"131","line":14,"column":19,"nodeType":"127","messageId":"128","endLine":14,"endColumn":29},{"ruleId":"125","severity":1,"message":"132","line":5,"column":52,"nodeType":"127","messageId":"128","endLine":5,"endColumn":69},{"ruleId":"125","severity":1,"message":"133","line":3,"column":10,"nodeType":"127","messageId":"128","endLine":3,"endColumn":20},{"ruleId":"121","replacedBy":"122"},{"ruleId":"123","replacedBy":"124"},"no-native-reassign",["134"],"no-negated-in-lhs",["135"],"@typescript-eslint/no-unused-vars","'Outlet' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'EclipseWidget' is defined but never used.","'setInvalid' is assigned a value but never used.","'ILoginServerError' is defined but never used.","'useActions' is defined but never used.","no-global-assign","no-unsafe-negation"]